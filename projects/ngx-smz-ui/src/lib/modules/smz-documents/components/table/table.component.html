<div
  [style.background]="data.container.background"
  class="grid grid-nogutter items-stretch justify-start h-full w-full relative"
  [ngClass]="data.container.styles">

  <table class="w-full h-full border-collapse table-fixed smz-document-table-tag" cellspacing="0" cellpadding="0">

    <thead>
      @if (data?.header.isVisible) {
        <tr class="relative">
          @for (column of data?.header.columns; track column) {
            <th
              class="relative"
              [colSpan]="column.colspan"
              [rowSpan]="column.rowspan"
              [style.height]="column.height"
              [style.width]="column.width"
              [style.background]="column.headerStyles.background ?? data.header.background"
              [style.color]="column.headerStyles.color ?? data.header.color"
              [ngClass]="column.headerStyles.styles ?? data.header.styles">
              {{ column.value }}
            </th>
          }
        </tr>
      }
    </thead>

    <tbody>
      @for (row of data?.content.items$ | async; track row; let index = $index) {
        <tr class="relative" [style.background]="data.content.background">
          @for (column of data?.header.columns; track column) {
            <td
              class="relative"
              [colSpan]="column.colspan"
              [rowSpan]="column.rowspan"
              [style.height]="column.height"
              [style.width]="column.width"
              [style.background]="column.contentStyles.background ?? data.content.background"
              [style.color]="column.contentStyles.color ?? data.content.color"
              [ngClass]="column.contentStyles.styles ?? data.content.styles">
              <div [innerHtml]="((row | getData : column.property : column.dataTransform : index).result) | safeHtml"></div>
            </td>
          }
        </tr>
      }
    </tbody>

  </table>

</div>

