@if (nodes$ | async; as nodes) {
  <smz-label
    class="smz__input_name"
    [text]="input.name"
    [propertyName]="input.propertyName"
    [showLabel]="input.hideLabel != true"
    [warning]="input.warning">
  </smz-label>
  <div class="input_inner__wrapper grid grid-nogutter">
    <p-treeSelect
      class="col-12 grid-nogutter smz__input_value flex-1"
      containerStyleClass="w-full"
      [formControl]="control"
      [options]="nodes"
      [placeholder]="input.name"
      appendTo="body"
      [filter]="input.showFilter ? true : false"
      [selectionMode]="input.selectionMode"
      [filterInputAutoFocus]="input.autofocusFilter"
      [emptyMessage]="input.emptyMessage"
      [showClear]="input.showClear"
      [filterPlaceholder]="input.emptyFilterMessage"
      [scrollHeight]="input.scrollHeight"
      [display]="input.display"
      >
      @for (inputType of input.allTypes; track inputType) {
        <ng-template let-node [pTemplate]="inputType">
          <div [innerHTML]="node.label | safeHtml" [pTooltip]="node.tooltip"></div>
        </ng-template>
      }
    </p-treeSelect>
    <smz-validation-messages [input]="input" [control]="control" [behaviors]="behaviors"></smz-validation-messages>
  </div>
}