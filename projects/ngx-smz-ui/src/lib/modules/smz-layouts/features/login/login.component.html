<div [ngClass]="state.styleClass.card" class="flex overflow-y-auto flex-col flex-nowrap items-stretch justify-center gap-3 sm:w-full md:w-2/5 lg:w-2/5 xl:w-2/4 2xl:w-2/6 h-full ml-auto mr-auto shadow-6">

  @if (state.logo.customPath != null) {
    <img [ngClass]="state.logo.styleClass" class="object-fill ml-auto mr-auto" [src]="state.logo.customPath" />
  }
  @if (state.logo.customPath == null) {
    <img [ngClass]="state.logo.styleClass" class="object-fill ml-auto mr-auto" [src]="(appLogo$ | async)[state.logo.type]" />
  }

  @if (state.isFormVisible) {
    <div class="w-full grid grid-nogutter flex-col items-stretch justify-center gap-4 p-6">
      @if (state.message) {
        <div class="ml-auto mr-auto" [innerHtml]="state.message | safeHtml"></div>
      }
      <smz-form-group #formComponent (submit)="login(formComponent.getData())" [config]="state.form"></smz-form-group>
      <button pButton class="" [disabled]="!formComponent.isValid" type="button" [label]="state.loginButtonLabel" (click)="login(formComponent.getData())"></button>
      @for (action of (state.customButtons | smzFlattenMenu : null); track action) {
        @if (action.visible) {
          <button pButton type="button" smzMenuItemAction [item]="action" [label]="action.label" [icon]="action.icon" [ngClass]="action.styleClass" [disabled]="action.disabled"></button>
        }
      }
      @if (state.extraInfo) {
        <div class="text-sm ml-auto mr-auto" [innerHtml]="state.extraInfo | safeHtml"></div>
      }
    </div>
  }

  @if (extraTemplate != null) {
    <ng-container *ngTemplateOutlet="extraTemplate; context: { $implicit: state }"></ng-container>
  }

</div>