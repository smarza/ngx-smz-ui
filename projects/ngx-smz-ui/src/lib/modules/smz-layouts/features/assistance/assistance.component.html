<ng-container *ngIf="assistance$ | async as assistance">

<a *ngIf="assistance.isEnabled" id="layout-config-button" class="layout-config-button" [ngClass]="assistance.buttonPosition" style="cursor: pointer;" (click)="showAssistance()"><i class="pi pi-cog"></i></a>

<ng-container *ngIf="config$ | async as config">
  <p-sidebar [(visible)]="isVisible" [position]="assistance.sidebarData.position" styleClass="assistence_sidebar" (onHide)="onHide()" (onShow)="onShow()">

    <div class="p-grid p-flex-column p-align-start p-justify-start p-p-2 p-nogutter">
      <h5>Menu</h5>
      <div class="p-grid p-nogutter">
        <p-selectButton [options]="menuTypes" [(ngModel)]="menuType" (onChange)="onMenuTypeChange()" optionLabel="label" optionValue="value"></p-selectButton>

        <div class="p-col-5 p-mt-2 p-mr-2">
          <label for="sidebar-width">Sidebar Width</label>
          <input id="sidebar-width" type="text" pInputText [(ngModel)]="layout.sidebarWidth" appInputChangeDetection (valueChanged)="setSidebarWidth($event)"/>
        </div>

        <div class="p-col p-mt-2">
          <label for="sidebar-slim-width">Slim Width</label>
          <input id="sidebar-slim-width" type="text" pInputText [(ngModel)]="layout.sidebarSlimWidth" appInputChangeDetection (valueChanged)="setSidebarSlimWidth($event)"/>
        </div>
      </div>

      <h5>Global Loading <span *ngIf="timer != null">{{ timer }}</span></h5>
      <div class="p-grid">
        <p-inputSwitch class="p-col-12" [(ngModel)]="globalIsLoading" (onChange)="changeGlobalLoading($event)"></p-inputSwitch>
        <button
          *ngFor="let loader of loaders"
          pButton pRipple type="button" [label]="loader.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onSetGlobalLoader(loader.id)">
        </button>
      </div>

      <h5>Toast Messages</h5>
      <div class="p-grid">
        <button
          *ngFor="let toast of toasts"
          pButton pRipple type="button" [label]="toast.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onShowToast(toast.id)">
        </button>
      </div>

      <h5>Toast Positions</h5>
      <div class="p-grid">
        <button
          *ngFor="let toastPosition of toastPositions"
          pButton pRipple type="button" [label]="toastPosition.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onSetToastPosition(toastPosition.id)">
        </button>
      </div>

      <h5>Assistance Positions</h5>
      <div class="p-grid">
        <button
          *ngFor="let assistancePosition of assistancePositions"
          pButton pRipple type="button" [label]="assistancePosition.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onSetAssistancePosition(assistancePosition.id)">
        </button>
      </div>

      <h5>Assistance Button Positions</h5>
      <div class="p-grid">
        <button
          *ngFor="let assistanceButtonPosition of assistanceButtonPositions"
          pButton pRipple type="button" [label]="assistanceButtonPosition.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onSetAssistanceButtonPosition(assistanceButtonPosition.id)">
        </button>
      </div>

      <h5>Layout Themes</h5>
      <div class="p-grid">
        <button
          *ngFor="let layout of layoutThemes"
          pButton pRipple type="button" [label]="layout.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onSetLayoutTheme(layout.id)">
        </button>
      </div>

      <h5>Content Themes</h5>
      <div class="p-grid">
        <button
          *ngFor="let content of contentThemes"
          pButton pRipple type="button" [label]="content.name" class="p-button-outlined p-mr-2 p-mb-2" (click)="onSetContentTheme(content.id)">
        </button>
      </div>
    </div>

  </p-sidebar>
</ng-container>
</ng-container>